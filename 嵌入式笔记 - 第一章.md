# 嵌入式笔记 - 第一章

## 关于嵌入式系统
### 嵌入式系统定义
嵌入式系统是以应用为中心，以计算机技术为基础，并且软硬件可以裁剪，适用于应用系统对功能、可靠性、成本、体积、功耗有严格要求的专用计算机系统。

### 嵌入式系统的应用
- 工业过程控制
- 网络通信设备
- 消费电子产品(MP3/手机/数码相机等)
- 航空航天设备(火星车)
- 军事电子设备和现代武器

### 嵌入式系统的发展史
经历4个阶段：
（1）以单片机为核心的低级嵌入式系统
（2）以嵌入式微处理器为基础的初级嵌入式系统
（3）以嵌入式操作系统为标志的中级嵌入式系统
（4）以Internet为标志的高级嵌入式系统

### 嵌入式系统的特点

**1.系统内核小** 
 由于嵌入式系统一般是应用于小型电子装置，系统资源相对有限，所以内核较传统的操作系统要小得多。

**2.专用性强** 
  嵌入式系统通常是面向特定任务的，相对于一般通用PC计算平台，嵌入式系统的个性化很强，其中软件系统和硬件的结合非常紧密，一般要针对硬件进行软件系统的移植。
  
**3.运行环境差异大**
  嵌入式系统使用范围极为广泛，其运行环境差异很大。
  
**4.可靠性要求高** 
 嵌入式系统不能像通用PC机一样，“死机”时通过手动重启计算机予以容忍。嵌入式系统往往要长期在无人值守的环境下运行，甚至是常年运行，因此对可靠性的要求特别高。
 
 **5.系统精简和高实时性操作系统** 
一是许多嵌入式系统应用具有实时性要求，嵌入式任务往往是时间关键性约束的，必须在某个时间范围内完成。
二是由于嵌入式系统比通用PC系统资源少得多，要求嵌入式操作系统核心部分的体积必须尽可能地小。
三是为了适应各种应用需求的变化，嵌入式操作系统还应该具有可裁减性、可伸缩性和易移植性的特点。

**6.具有固化在非易失性存储器中的代码** 
 为了系统的初始化，几乎所有系统都要在非易失性存储器中存放部分代码（启动代码）。为了提高执行速度和系统可靠性，常常把所有代码（或其压缩代码）固化存放在存储器芯片或处理器的内部存储器件中。

**7.嵌入式系统开发环境和工作环境一般不同**
 一般来说，嵌入式系统本身不具备自主开发能力，即使设计完成以后，用户通常也不能对其中的程序功能进行修改，因此必须有一套开发工具和环境才能进行开发。
 
### 各类嵌入式系统概述

#### Linux
 在所有的操作系统中，Linux是发展最快、应用最为广泛的操作系统之一。Linux本身的种种特性使其成为嵌入式开发中的首选。

#### μC/OS（ μC/OS-II）
μC/OS是一个完整的、可移植、可固化、可裁剪的占先式实时多任务内核。μC/OS绝大部分的代码是用ANSI的C语言编写的，包含一小部分汇编代码，使之可供不同架构的微处理器使用。
至今，从8位到64位，μC/OS-II已在超过40种不同架构上的微处理器上运行。μC/OS-II已经在世界范围内得到广泛应用，包括很 多领域， 如 手机、路由器、集线器、不间断电源、飞行器、医疗设备及工业控制上。
实际上，μC/OS-II已经通过了非常严格的测试，并且得到了美国航空管 理局（FederalAviation Administration）的认证，可以用在飞行器上。这说明μC/OS-II是稳定可靠的，可用于与人性命攸关的安全紧要（safetycritical）系统。除此以外，μC/OS-II的鲜明特点就是源码公开，便于移植和维护。 

#### Windows CE
Windows CE是微软的产品，它是从整体上为有限资源的平台设计的多线程、完整优先权、多任务的操作系统。 CE中的C代表袖珍（Compact）、消费（Consumer）、通信能力（Connectivity)和伴侣（Companion）；E代表电子产品（Electronics）。 
Windows CE是基于WIN32 API重新开发、新型的信息设备的平台。Windows CE具有模块化、结构化和基于Win32应用程序接口和与处理器无关等特点。Windows CE不仅继承了传统的Windows图形界面，并且在Windows CE平台上可以使用Windows 95/98上的编程工具（如Visual Basic、Visual C++等）、使用同样的函数、使用同样的界面风格，使绝大多数的应用软件只需简单的修改和移植就可以在Windows CE平台上继续使用。

#### VxWorks
VxWorks是WindRiver System公司专门为实时嵌入式系统设计开发的操作系统软件，为程序员提供了高效的实时任务调度、中断管理，实时的系统资源以及实时的任务间通信。
Tornado 是WRS 公司推出的一套实时操作系统开发环境，类似Microsoft Visual C，但是提供了更丰富的调试、仿真环境和工具。

#### QNX
这也是一款实时操作系统，由加拿大QNX软件系统有限公司开发。广泛应用于自动化、控制、机器人科学、电信、数据通信、航空航天、计算机网络系统、医疗仪器设备、交通运输、安全防卫系统、POS机、零售机等任务关键型应用领域。

## 关于Linux

### 背景知识
- Unix：Unix是1969年AT&T贝尔实验室创造的一种健壮、灵活的操作系统。特点是：可靠性高、伸缩性强、开放性好、植根于网络、强大的数据库支持功能。符合POSIX标准*。Linux就是UNIX的一种克隆系统。

- POSIX标准：POSIX（Portable Operating System Interface for Computing Systems）是由IEEE和ISO/IEC开发的一组标准。该标准是基于现有UNIX的实践经验，描述了操作系统的调用服务接口。用于保证编制的应用程序可以在源代码一级上、在多种操作系统上移植和运行。

- MINIX系统：MINIX操作系统也是UNIX的一种克隆系统，Linux刚开始就是参照MINIX系统于1991年才开始开发。

- GNU： GNU(ɡə nuː)是**GNU’s not UNIX**的缩写。 GNU Project开始于1984年，由自由软件基金(FSF ，Free Software Foundation)支持，目的是为了建立**免费的UNIX系统**。

- Free Software*：自由软件。free并不是免费。使用者有使用、研究、修改、发布的自由。如此整个社群都能受惠，前提是获取或开放源码。


>*自由软件(Free Software)符与使用者的四种自由：
自由之零：不论目的为何，有使用该软件的自由。
自由之一：有研究该软件如何运作的自由，并且得以改写该软件来符合使用者自身的需求。取得该软件之源码为达成此目的之前提。 自由之二：有重新散布该软件的自由，所以每个人都可以借由散布自由软件来敦亲睦邻。 自由之三：有改善再利用该软件的自由，并且可以发表改写版供公众使用，如此一来，整个社群都可以受惠。如前项，取得该软件之源码为达成此目的之前提。 
如果一软件的使用者具有上述四种权利，则该软件得以被称之为“自由软件”。也就是说，使用者必须能够自由地、以不收费或是收取合理的散布费用的方式、在任何时间再散布该软件的原版或是改写版在任何地方给任何人 使用。如果使用者不必问任何人或是支付任何的许可费用从事这些行为，就表示她／他拥有自由软件所赋予的自由权利。

### GPL
GPL：General Public License 通用公共授权。
LGPL： Lesser General Public License宽通用公共许可证
LGPL是GPL的变种，也是GNU为了得到更多的甚至是商用软件开发商的支持而提出的。与GPL的最大不同是，可以私有使用LGPL授权的自由软件，开发出来的新软件可以是私有的而不需要是自由软件。

在GPL中有一个关键的概念就是Copyleft。

**CopyLeft**
Copyleft带有标准的Copyright声明，确认作者的所有权和标志。但它放弃了标准copyright中暗含的一些其它权利：它声明，你不但可以自由分发该成果，你也可以自由地修改它。最终，所有派生的工作必须遵循这些条款。 Copyleft作品的使用者若不按Copyleft的许可证要求保持同样的授权条款，并将更改的版本回馈社群的话，就是违反著作权法的侵权行为。
Copyleft授权许可有时被认为具有“传染性”，因为任何从Copyleft许可衍生出的作品也必须是遵守Copyleft许可的规定。“传染性”虽然带有贬义，但是这与病毒的传染并不相同，因为病毒的传染是通过不为用户所知道的途径传播的；Copyleft则是公开透明的。 Copyleft是将一个程序成为自由软件的通用方法，同时也使得这个程序的修改和扩充版本成为自由软件。

### Linux系统的主要特点
- 开放性
- 多用户
- 多任务
- 稳定性强
- 设备独立性
- 提供了丰富的网络功能
- 可靠的系统安全
- 良好的可移植性
- 应用软件多
- 功能强大的内核，性能高效、稳定多任务
- 支持多种体系结构
- 完善的网络通信、图形、文件管理机制
- 支持大量的周边硬件设备
- 大小、功能都可定制
- 良好的开发环境，不断发展的开发工具集
- 软件开发者的广泛支持
- 价格低廉

### Linux的应用
- 网络服务器：
1、承袭了 Unix 高稳定性的良好传统， Linux 上面的网路功能特别的稳定与强大！ 
2、由于 GNU 计划与 Linux 的 GPL 授权模式，让很多优秀的软件都在 Linux 上面发展， 且这些在 Linux 上面的软件几乎都是自由软件（Free Software）！ 
因此，做为一部网络服务器，例如 WWW, Mail Server, File Server, FTP Server 等等， Linux 绝对是上上之选！

- 工作站电脑：
工作站电脑与服务器不一样的地方在于网络服务。 工作站电脑本身是不提供 Internet 的服务的(LAN内的服务则可接受)。 此外，工作站电脑与普通话PC不同，在于工作站通常得要应付比较重要的业务应用， 例如工程界流体力学的数值模式运算、娱乐事业的特效功能处理、软体开发者的工作平台等等。 Linux 上面有强大的运算能力，以及通用性好的 GCC 编译软件， 因此在工作站当中也是相当良好的一个操作系统选择。
据美国环保署内部人员的测试，发现 Linux 不但比较便宜 而且运行速度还比较快。 

- 桌上型电脑
- 嵌入式系统：
因为 Linux 的核心的可变动性， 以及核心的小而美、效能佳的特性，让他在嵌入式设备的市场当中，具有很大的竞争优势！ Linux 的核心最大不会超过 2MB ，还可精简到几百KBytes甚至几十KBytes的 Linux 核心 。这对于嵌入式设备锱铢必较的存储空间来说， 真是相当的优秀！ 

### Linux的版本

**内核版本**
Linux内核版本的命名机制:num.num.num
其中第一个数字是主版本号,第二个数字是次版本号,第三个数字是修订版本号. 
一般地，可以从Linux内核版本号来区分系统是否是Linux稳定版还是测试版（次版本号为偶数：稳定版）。

**发行版本**
一个典型的Linux发行版包括：Linux内核，一些GNU程序库和工具，命令行shell，图形界面的X Window系统和相应的桌面环境，如KDE或GNOME，并包含数千种从办公套件，编译器，文本编辑器到科学工具的应用软件。

- **Red Hat Linux**
Red Hat Linux是商业上运作最成功的一个Linux发行套件，普及程度很高，由Red Hat公司发行
Red Hat Linux有一个图形化的安装程序Anaconda
因为可能发生的版权或专利权问题，Red Hat Linux不包含很多的功能
[Red Hat官方站点](http://www.redhat.com)
[Red Hat中文站](http://www.redhat.com.cn)

- **Fedora**
Fedora又称为Fedora Linux，第七版以前名为Fedora Core，由Fedora Porject社群开发、Red Hat公司赞助。
与Red Hat Linux的相似
Fedora在引入新技术的部分颇为快速
Fedora Project在自由软件的推广上有积极的作为
Fedora使用yum工具来协助RPM套件的管理
[Fedora官方站点](http://fedoraproject.org)

- **CentOS**
CentOS（Community ENTerprise Operating System）是Linux发行版之一，它是來自于Redhat Enterprise Linux依照开放原代码规定释出的原代码所编译而成。由于出自同样的原代码，因此有些要求高度稳定性的服务器以CentOS替代商业版的Redhat Enterprise Linux使用。两者的不同在于CentOS并不包含非开放原代码软件。
[CentOS官方站点](http://www.centos.org)

- **openSUSE**
openSUSE 的起源可以追溯到1992年
SuSE Linux 在2003年末被 Novell 公司购买
它在用户中取得如此高分的最主要原因包括友好而绚丽的桌面环境( KDE 和 GNOME )，出色的系统管理工具 (YaST)，以及，对那些购买盒装版本的用户来说，对任何版本都可用的最棒的打印文档。
[Suse官方站点](http://www.novell.com/linux)
[Suse中文站点](http://opensuse.org.cn)

- **Debian GNU/Linux**
Debian GNU/Linux 于1993年首次发布,它的目标是提供一个稳定容错的Linux版本
Debian GNU/Linux 的成功可以归结为如下几条。它的开发者超过1000名志愿者，它的软件包有超过20000种软件（对11种处理器构架做了编译），并且令人振奋的是它为超过120种基于 Debian 的发行版和 live CD 提供支持，这些数字是其它任何基于 Linux 的发行版所无法比拟的。
[Debian官方站点](http://www.debian.org)

- **Ubuntu**
Ubuntu 于2004年9月首次宣布发行。 
Ubuntu基于Debian的“Sid” （不稳定分支），但是随着一些杰出的软件包比如 GNOME 、Firefox和OpenOffice.org 升级到它们的最新版本， Ubuntu 有固定6个月的发布周期，偶尔还会出现提供3~5年安全升级的长期支持版（LTS)，这取决于版本号（非LTS版本提供18个月的支持）。Ubuntu的其它特点包括一张可安装的live CD 、有创意的艺术作品和桌面主题、针对windows用户的手册、对最新技术的支持比如3D桌面特效、ATI和NVIDIA显卡以及无线网络的私有设备的驱动的简易安装还有非免费或专利担保的媒体解码器的有求必应的支持。
[Ubuntu官方站点](http://www.ubuntu.com)
[Ubuntu中文站点](http://www.ubuntu.org.cn)

- **Mandrake**
目标是尽量让工作变得更简单。Mandrake给人们提供了一个优秀的图形安装界面，它的最新版本还包含了许多Linux软件包。 作为Red Hat Linux的一个分支，Mandrake将自己定位在桌面市场的最佳Linux版本上。但该公司还是支持服务器上的安装，而且成绩并不坏。 
Mandrak对桌面用户来说是一个非常不错的选择，它还可作为一款优秀的服务器系统，尤其适合Linux新手使用。它使用最新版本的内核，拥有许多用户需要在Linux服务器环境中使用的软件——数据库和Web服务器。 Mandrak没有重大的软件缺陷，只是它更加关注桌面市场，较少关注服务器市场。 

### 一些比较好的Linux学习网站

[中国Linux公社](https://www.linuxfans.org/)
（本来还想贴其他的，结果发现不是404就是500了。）
  